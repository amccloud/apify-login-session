{
    "title": "login-session",
    "description": "Get localStorage, sessionStorage and cookies from logins for usage in other actors",
    "type": "object",
    "schemaVersion": 1,
    "properties": {
        "username": {
            "title": "Your username",
            "description": "The username/email that will be passed to the form",
            "type": "string",
            "example": "username@example.com",
            "editor": "textfield"
        },
        "password": {
            "title": "Your password",
            "description": "The password that will be passed to the form",
            "example": "secretpassword",
            "type": "string",
            "editor": "textfield"
        },
        "userAgent": {
            "title": "Browser User Agent",
            "description": "Choose an user-agent string",
            "default": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:68.0) Gecko/20100101 Firefox/68.0",
            "prefill": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:68.0) Gecko/20100101 Firefox/68.0",
            "example": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:68.0) Gecko/20100101 Firefox/68.0",
            "type": "string",
            "editor": "textfield"
        },
        "website": {
            "title": "Website to grab a session from",
            "description": "The website to get the session from. The login form should be available on the provided url",
            "type": "array",
            "uniqueItems": true,
            "maxItems": 1,
            "minItems": 1,
            "editor": "requestListSources"
        },
        "sessionConfig": {
            "title": "Session configuration",
            "description": "The configuration for your sessions",
            "type": "object",
            "default": {
                "storageName": "login-sessions",
                "maxAgeSecs": 3600,
                "maxUsageCount": 100,
                "maxPoolSize": 100
            },
            "prefill": {
                "storageName": "login-sessions",
                "maxAgeSecs": 3600,
                "maxUsageCount": 100,
                "maxPoolSize": 100
            },
            "editor": "json"
        },
        "steps": {
            "title": "Steps",
            "description": "Each step that should be taken for the login to happen. For multi-stage logins (username then password), provide multiple steps",
            "type": "array",
            "prefill": [{
                "username": {
                    "selector": "input#email"
                },
                "password": {
                    "selector": "input#pass"
                },
                "submit": {
                    "selector": "input[type=\"submit\"]"
                },
                "failed": {
                    "selector": "[role=\"alert\"]"
                },
                "waitForMillis": 5000
            }],
            "editor": "json"
        },
        "cookieDomains": {
            "title": "Cookie domains",
            "description": "Specify the domains that should get cookies from",
            "example": ["domain.com", "subdomain.domain.com"],
            "default": [],
            "prefill": [],
            "type": "array",
            "editor": "stringList"
        },
        "proxyConfiguration": {
            "title": "Proxy configuration",
            "type": "object",
            "description": "Select proxies to be used by your actor.",
            "prefill": {
                "useApifyProxy": true
            },
            "editor": "proxy"
        }
    },
    "required": [
        "username",
        "password",
        "website",
        "sessionConfig",
        "steps",
        "cookieDomains"
    ]
}
